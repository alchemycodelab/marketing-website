---
import { getStaticPaths, getPage, getCohorts } from './builder.js';
import Page from '../layouts/page.astro';
import BuilderServer from '../components/Builder/BuilderServer.jsx'
import BuilderClient from '../components/Builder/BuilderClient.tsx'

export { getStaticPaths };

const { pages } = Astro.props;
const { url } = Astro.request;
const page = getPage(url.pathname);

const isEditing = import.meta.env.MODE !== 'production';

---

<Page pages={pages} page={page}>
	{ !isEditing ? <BuilderServer page={page} /> : <BuilderClient page={page} client:only /> }
</Page>
