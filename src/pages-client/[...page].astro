---
import { getStaticPaths, getPage } from '../services/builder.js';
import Page from '../layouts/page.astro';
import BuilderClient from '../components/Builder/BuilderClient.tsx'

export { getStaticPaths };

const { pages } = Astro.props;
const { url } = Astro.request;
const page = await getPage(url.pathname);

---

<Page pages={pages} page={page}>
	<BuilderClient page={page} client:only />
</Page>
